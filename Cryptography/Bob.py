from random import randint

p=27452882685148053528906274521006522380236069628867876221689770595146917455135518961950366044732257035023216326441814555744891597349142141979418630772468508911802735959556183866884189161724743463611773663603193394610748947711815412495118621924862543865586085630685714458014151728051687457171416053537137747560224796745521781319589421960609027141996237980361896383934063493362596428419535622000989493808110697322074967187953543666328821745639286462083301193492278177479285186959911678190374855074205739997259419460375838176586671130047673175037039520314015418292348825566243527683566498049124365154970066879392139197433
g=26624867224132202091373981661561640498040947294584771260217079702251781042722351076565193154844328427056521782260639720526356602889063385999883910035873588319396486643445793231922908759026336221020585674082487509838797727018504412273358717450636670952515306396542417121793101769267189368327344872121216891859455859417927505800094146794852772410281922632929021903926079408826210547989372357101805808803351139029598764658523185675874772962401741128351894711206349170723276239168041277923643078929465691717003215793852103291516319101915794938967932243084188484558149084518937584543615380144868139272471505844074867917829
b=21142568778259624612010862832077837159673339527821116345618722410880028276218674423664758893235010469829918261924141901993560987952542346283095906273010938478292762874057162484963200839044173744310468272391579770795983019654342786327708005067682668988009412514856916797356303811646028394366356881771288330849500257430683218522312389292115040231959695430853245867601039653424939218798869199051847191743373607881228346650648623875119730357327146930758985836727788051418494112371954744234502188070453883534799945477217739533434358933561244392669213669782636126514671357714152371457533797423577594030729330001221905533982
A=25105045274015016677761714499631001932908528344049724373979426906259769536924354039296447091606794962483612660659066209149188502289286544822052133963041999761349043872423885321267620084930244149725354510305725077528675385543871486148680407072306288899731813612847693306091973294451652729039167465008483010783575574593815025484052519156109505577957156647773162431216985609114405375817778836184265245715652181086463317944110296375063457076152417037345323375340331547194347175248972392310655545469617492066505712682157371020536533118157932426213529772282761876242745560217177430090352579825222876033542262258984577741728

def secret(g,p):
    
    d=open('B.txt', 'w')
    
    b=randint(2**2047,p)
    B=pow(g,b,p)

    print(b)
    print(B)
    
    d.write(str(B))
    
    return B

def key(A,b,p):
    
    K=pow(A,b,p)
    
    print(K)
    
    return K

#secret(g,p)
key(A,b,p)